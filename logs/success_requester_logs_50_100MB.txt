[22:08:54:967072][1513662][DOCA][INF][rdma_write_requester_my.c:174][rdma_init] Logger initialized successfully
[22:08:54:967110][1513662][DOCA][INF][rdma_write_requester_my.c:179][rdma_init] Starting the sample
[22:08:54:967115][1513662][DOCA][INF][rdma_write_requester_my.c:184][rdma_init] Init finished successfully
[22:08:54:967621][1513662][DOCA][INF][doca_dev.cpp:618][doca_devinfo_create_list] Devinfo list 0x71f1e4002798: Added device=0x71f1e4002a10 to devinfo list
[22:08:54:967640][1513662][DOCA][INF][doca_dev.cpp:618][doca_devinfo_create_list] Devinfo list 0x71f1e4002798: Added device=0x71f1e4002a90 to devinfo list
[22:08:54:967649][1513662][DOCA][INF][doca_dev.cpp:627][doca_devinfo_create_list] Devinfo list 0x71f1e4002798 was created
[22:08:54:974493][1513662][DOCA][INF][doca_dev.cpp:997][doca_dev_open] Local device 0x71f1e4002a90 was opened
[22:08:54:974522][1513662][DOCA][INF][doca_dev.cpp:143][dev_put] Device 0x71f1e4002a10 was destroyed
[22:08:54:974537][1513662][DOCA][INF][doca_dev.cpp:708][doca_devinfo_destroy_list] Devinfo list 0x71f1e4002798 was destroyed
TCP_NODELAY is enabled
[22:08:54:974544][1513662][DOCA][INF][rdma_common_pool_th.c:774][allocate_rdma_resources] DOCA device resources->doca_device: 0x71f1e4002a90
[22:08:54:974548][1513662][DOCA][INF][rdma_common_pool_th.c:808][allocate_rdma_resources] Thread 0 requesting memory block of size 52428800
[22:08:54:974562][1513662][DOCA][INF][doca_hp_shm.c:508][my_doca_open_or_create_shm_smart] 没有合适的块可复用，将创建新块 0，需要大小: 52428800
[22:08:54:974727][1513662][DOCA][INF][doca_mmap.cpp:695][doca_mmap_create] Mmap 0x71f1e4003380 was created, access_mask=0x1
[22:08:54:974738][1513662][DOCA][INF][doca_mmap.cpp:2271][doca_mmap_set_permissions] Mmap 0x71f1e4003380: Set permissions with access_mask=0x7
[22:08:54:974744][1513662][DOCA][INF][doca_mmap.cpp:2036][mmap_set_memrange] Mmap 0x71f1e4003380: Set memrange addr=0x71f1e0e00000, len=52428800
[22:08:54:974751][1513662][DOCA][DBG][doca_mmap.cpp:1010][mmap_add_dev] Mmap 0x71f1e4003380: Added device=0x71f1e4002a90 to mmap. curr_device_num=1
[22:08:54:981647][1513662][DOCA][DBG][linux_devx_obj.cpp:80][priv_doca_devx_object] DEVX obj 0x71f1e4002790 created (m_devx_object=0x71f1e4003550)
[22:08:54:981722][1513662][DOCA][INF][doca_mmap.cpp:893][doca_mmap_start] Mmap 0x71f1e4003380: mmap was started
[22:08:54:981736][1513662][DOCA][INF][doca_hp_shm.c:178][create_new_block] [doca_mmap_start 耗时:  ] 用时: 6.98 ms
[22:08:54:981745][1513662][DOCA][INF][doca_hp_shm.c:192][create_new_block] Created new block 0: offset=0 size=52428800
[22:08:54:981750][1513662][DOCA][INF][doca_hp_shm.c:564][my_doca_open_or_create_shm_smart] 智能创建块 0，大小: 52428800 (需要: 52428800), 查找耗时: 0.01毫秒, 操作耗时: 7.18毫秒
[22:08:54:981758][1513662][DOCA][INF][rdma_common_pool_th.c:821][allocate_rdma_resources] Thread 0 assigned block 0 of size 52428800
[22:08:54:981762][1513662][DOCA][INF][rdma_common_pool_th.c:828][allocate_rdma_resources] [mmap 映射耗时:       ] 用时: 7.21 ms
[22:08:54:981778][1513662][DOCA][INF][doca_pe.cpp:47][doca_pe_create] Progress engine 0x71f1e4004840 was created
[22:08:54:983748][1513662][DOCA][DBG][priv_doca_rdma.cpp:356][priv_doca_rdma_get_max_send_data_segs] devinfo 0x71f1e4002af0: max_send_data_segs=64 for transport_type=RC
[22:08:54:984639][1513662][DOCA][DBG][priv_doca_rdma.cpp:356][priv_doca_rdma_get_max_send_data_segs] devinfo 0x71f1e4002af0: max_send_data_segs=16 for transport_type=DC
[22:08:54:985494][1513662][DOCA][DBG][priv_doca_rdma.cpp:315][priv_doca_rdma_get_max_recv_data_segs] devinfo 0x71f1e4002af0: max_recv_data_segs=32
[22:08:54:986008][1513662][DOCA][INF][doca_rdma.cpp:262][doca_rdma_create] RDMA=0x71f1e8c4b010 was created, dev=0x71f1e4002a90
[22:08:54:986018][1513662][DOCA][INF][doca_rdma.cpp:1693][doca_rdma_set_permissions] RDMA 0x71f1e8c4b010: permissions were set to 0x5
[22:08:54:986025][1513662][DOCA][INF][doca_rdma.cpp:1850][doca_rdma_set_max_num_connections] RDMA 0x71f1e8c4b010: maximum number of connections was set to 1
[22:08:54:986872][1513662][DOCA][DBG][doca_rdma.cpp:1443][doca_rdma_cap_transport_type_is_supported] devinfo 0x71f1e4002af0: transport_type=RC is supported
[22:08:54:986889][1513662][DOCA][INF][doca_rdma.cpp:1593][doca_rdma_set_transport_type] RDMA 0x71f1e8c4b010: transport_type was set to RC
[22:08:54:986898][1513662][DOCA][INF][rdma_common_pool_th.c:891][allocate_rdma_resources] ctx=0x71f1e8c4b010 thread=125283862283840 mmap=0x71f1e4003380 len=52428800 dev=0x71f1e4002a90 rdma=0x71f1e8c4b010 mmap_memrange=0x71f1e0e00000
[22:08:54:986903][1513662][DOCA][INF][rdma_write_requester_sample.c:1107][rdma_write_requester] [分配资源耗时:      ] 用时: 19.43 ms
[22:08:54:986911][1513662][DOCA][INF][rdma_write_requester_sample.c:1109][rdma_write_requester] resources->rdma = 0x71f1e8c4b010
[22:08:54:986914][1513662][DOCA][INF][rdma_tasks.cpp:181][priv_set_task_conf] RDMA 0x71f1e8c4b010: task_write_task number of tasks was set to 50
[22:08:54:986927][1513662][DOCA][INF][doca_buf_inventory.cpp:238][expand_imp] Buf inventory 0x71f1e4004b80: Expanded by 16 elements (num free elements=16, num elements=16)
[22:08:54:986934][1513662][DOCA][INF][doca_buf_inventory.cpp:256][doca_buf_inventory] DOCA buf inventory 0x71f1e4004b80 was created
[22:08:54:986941][1513662][DOCA][INF][doca_buf_inventory.cpp:418][start] Buf inventory 0x71f1e4004b80: was started (num_elements=16)
[22:08:54:986948][1513662][DOCA][INF][rdma_tasks.cpp:181][priv_set_task_conf] RDMA 0x71f1e8c4b010: task_receive_task number of tasks was set to 1
[22:08:54:986955][1513662][DOCA][INF][doca_rdma.cpp:2276][doca_rdma_set_connection_state_callbacks] RDMA 0x71f1e8c4b010: Connection callbacks were set
[22:08:54:987104][1513662][DOCA][INF][task_pool.cpp:34][priv_doca_task_pool_create] task_pool 0x71f1e4003630 was created
[22:08:54:987114][1513662][DOCA][INF][task_pool.cpp:34][priv_doca_task_pool_create] task_pool 0x71f1e40039c0 was created
[22:08:54:987121][1513662][DOCA][INF][task_pool.cpp:34][priv_doca_task_pool_create] task_pool 0x71f1e4005f10 was created
[22:08:54:987127][1513662][DOCA][INF][task_pool.cpp:34][priv_doca_task_pool_create] task_pool 0x71f1e4005f40 was created
[22:08:54:987135][1513662][DOCA][INF][task_pool.cpp:34][priv_doca_task_pool_create] task_pool 0x71f1e4005fe0 was created
[22:08:54:987141][1513662][DOCA][INF][task_pool.cpp:34][priv_doca_task_pool_create] task_pool 0x71f1e4003c70 was created
[22:08:54:987147][1513662][DOCA][INF][task_pool.cpp:34][priv_doca_task_pool_create] task_pool 0x71f1e40035c0 was created
[22:08:54:987153][1513662][DOCA][INF][task_pool.cpp:34][priv_doca_task_pool_create] task_pool 0x71f1e4004b30 was created
[22:08:54:987159][1513662][DOCA][INF][task_pool.cpp:34][priv_doca_task_pool_create] task_pool 0x71f1e40049f0 was created
[22:08:54:987165][1513662][DOCA][INF][task_pool.cpp:34][priv_doca_task_pool_create] task_pool 0x71f1e4001fd0 was created
[22:08:54:987171][1513662][DOCA][INF][task_pool.cpp:34][priv_doca_task_pool_create] task_pool 0x71f1e4005e30 was created
[22:08:54:987311][1513662][DOCA][INF][doca_uar.cpp:232][bridge_init] UAR 0x71f1e400a240 created: page=0x71f1ed52c000, reg_addr=0x71f1ed52c800, base_addr=0x71f1ed52c000, id=131, alloc_type=BLUEFLAME
[22:08:54:987900][1513662][DOCA][DBG][linux_devx_obj.cpp:80][priv_doca_devx_object] DEVX obj 0x71f1e4002b30 created (m_devx_object=0x71f1e400a570)
[22:08:54:987925][1513662][DOCA][INF][doca_pe.cpp:665][priv_doca_pe_cq_register] Progress engine 0x71f1e4004840: cq=0x71f1e400a400 was registered to pe
[22:08:54:988525][1513662][DOCA][DBG][linux_devx_obj.cpp:80][priv_doca_devx_object] DEVX obj 0x71f1e40036a0 created (m_devx_object=0x71f1e400a6e0)
[22:08:54:988549][1513662][DOCA][INF][rdma_write_requester_sample.c:1017][rdma_write_requester_state_change_callback] RDMA context is running
[22:08:54:988554][1513662][DOCA][INF][rdma_common_pool_th.c:1219][rdma_cm_connect] Using RDMA_CM to setup RDMA connection
[22:08:54:988557][1513662][DOCA][INF][rdma_common_pool_th.c:1238][rdma_cm_connect] -----------------------------------------------
[22:08:54:988560][1513662][DOCA][INF][rdma_common_pool_th.c:1239][rdma_cm_connect] RDMA_CM connection params:
[22:08:54:988572][1513662][DOCA][INF][rdma_common_pool_th.c:1240][rdma_cm_connect] -- Connection Role: Client
[22:08:54:988580][1513662][DOCA][INF][rdma_common_pool_th.c:1241][rdma_cm_connect] -- Addr_type : 0
[22:08:54:988583][1513662][DOCA][INF][rdma_common_pool_th.c:1242][rdma_cm_connect] -- Addr: 192.168.200.2
[22:08:54:988586][1513662][DOCA][INF][rdma_common_pool_th.c:1243][rdma_cm_connect] -- Port: 13580
[22:08:54:988589][1513662][DOCA][INF][rdma_common_pool_th.c:1244][rdma_cm_connect] -- Num_connections: 1
[22:08:54:988592][1513662][DOCA][INF][rdma_common_pool_th.c:1245][rdma_cm_connect] -----------------------------------------------
[22:08:54:988597][1513662][DOCA][INF][doca_rdma.cpp:570][doca_rdma_addr_create] RDMA address 0x71f1e4002000: Connection was set to Address (IPv4): 192.168.200.2 and Port 13580
[22:08:54:988604][1513662][DOCA][INF][rdma_common_pool_th.c:1267][rdma_cm_connect] Client calling doca_rdma_connect_to_addr
[22:08:54:991087][1513662][DOCA][DBG][linux_devx_obj.cpp:80][priv_doca_devx_object] DEVX obj 0x71f1e4004790 created (m_devx_object=0x71f1e400ac50)
[22:08:54:991511][1513662][DOCA][DBG][doca_qp.cpp:1097][set_state] QP 0x71f1e4003b30: State is already INIT
[22:08:54:991521][1513662][DOCA][INF][doca_qp.cpp:1128][priv_doca_dev_qp_create] Device 0x71f1e4002a90: qp=0x71f1e4003b30 was created
[22:08:54:991589][1513662][DOCA][INF][rdma_common_pool_th.c:1281][rdma_cm_connect] [Client] started connection successfully
[22:08:54:991595][1513662][DOCA][INF][rdma_write_requester_sample.c:1025][rdma_write_requester_state_change_callback] RDMA context finished initialization
[22:08:54:991599][1513662][DOCA][INF][rdma_write_requester_sample.c:1179][rdma_write_requester] 在while (resources.run_pe_progress) 之前都是成功执行的
[22:08:55:202158][1513662][DOCA][INF][doca_qp.cpp:1090][set_state] QP 0x71f1e4003b30: State change INIT -> CONNECTED
[22:08:55:202224][1513662][DOCA][INF][rdma_common_pool_th.c:1382][rdma_requester_recv_data_from_rdma_responder] Start to exchange data resource between client and server
[22:08:55:202253][1513662][DOCA][INF][doca_mmap.cpp:695][doca_mmap_create] Mmap 0x71f1e4012a40 was created, access_mask=0x1
[22:08:55:202267][1513662][DOCA][INF][doca_mmap.cpp:2271][doca_mmap_set_permissions] Mmap 0x71f1e4012a40: Set permissions with access_mask=0x1
[22:08:55:202279][1513662][DOCA][WRN][doca_mmap.cpp:2026][mmap_set_memrange] Mmap 0x71f1e4012a40: Memory range isn't aligned to 64B - addr=0x71f1e4031990. For best performance using CPU memory, align address to 64B (cache-line size). For best performance using GPU memory, align address to 64KB (page size)
[22:08:55:202291][1513662][DOCA][INF][doca_mmap.cpp:2036][mmap_set_memrange] Mmap 0x71f1e4012a40: Set memrange addr=0x71f1e4031990, len=4096
[22:08:55:202306][1513662][DOCA][DBG][doca_mmap.cpp:1010][mmap_add_dev] Mmap 0x71f1e4012a40: Added device=0x71f1e4002a90 to mmap. curr_device_num=1
[22:08:55:202882][1513662][DOCA][DBG][linux_devx_obj.cpp:80][priv_doca_devx_object] DEVX obj 0x71f1e4034180 created (m_devx_object=0x71f1e4031760)
[22:08:55:202902][1513662][DOCA][INF][doca_mmap.cpp:893][doca_mmap_start] Mmap 0x71f1e4012a40: mmap was started
[22:08:55:202916][1513662][DOCA][INF][rdma_common_pool_th.c:1370][recv_msg] Negotiation receive task submission completed

[22:08:55:257954][1513662][DOCA][INF][rdma_write_requester_sample.c:627][rdma_write_prepare_and_submit_task_chunked] [放大数据耗时:      ] 用时: 22.36 ms
[22:08:55:258014][1513662][DOCA][INF][doca_mmap.cpp:695][doca_mmap_create] Mmap 0x71f1e401d980 was created, access_mask=0x1
[22:08:55:258033][1513662][DOCA][DBG][doca_mmap.cpp:1565][import_export_blob_rdma] RDMA blob version = {major=65, minor=2}
[22:08:55:258043][1513662][DOCA][INF][doca_mmap.cpp:2271][doca_mmap_set_permissions] Mmap 0x71f1e401d980: Set permissions with access_mask=0x5
[22:08:55:258067][1513662][DOCA][INF][doca_mmap.cpp:1691][doca_mmap_create_from_export] Mmap 0x71f1e401d980: mmap was created from export. export_desc=0x71f1e4031990, export_desc_len=127, dev=0x71f1e4002a90
[22:08:55:258082][1513662][DOCA][DBG][doca_mmap.cpp:2192][doca_mmap_get_memrange] Mmap 0x71f1e401d980: Get memory range. addr=0x7e43a73fe010, len=52428800
[22:08:55:258088][1513662][DOCA][INF][rdma_write_requester_sample.c:650][rdma_write_prepare_and_submit_task_chunked] [获取远程 mmap 耗时: ] 用时: 0.10 ms
[22:08:55:258092][1513662][DOCA][INF][rdma_write_requester_sample.c:657][rdma_write_prepare_and_submit_task_chunked] 总文件大小: 46830571, 远程缓冲区大小: 52428800
[22:08:55:258095][1513662][DOCA][INF][rdma_write_requester_sample.c:658][rdma_write_prepare_and_submit_task_chunked] 将分为 1 块传输，每块最大数据: 52428760
[22:08:55:258098][1513662][DOCA][INF][rdma_write_requester_sample.c:662][rdma_write_prepare_and_submit_task_chunked] [传输第一块前耗时 ] 用时: 22.52 ms
[22:08:55:258101][1513662][DOCA][INF][rdma_write_requester_sample.c:494][send_single_chunk] 进入到了send_single_chunk，发送第 0 块
[22:08:55:261824][1513662][DOCA][INF][rdma_write_requester_sample.c:545][send_single_chunk] 提交第 0 块 RDMA 写任务 (大小: 46830611)
[22:08:55:261859][1513662][DOCA][INF][rdma_write_requester_sample.c:554][send_single_chunk] [块发送前耗时       ] 用时: 3.76 ms
[22:08:55:266559][1513662][DOCA][INF][rdma_write_requester_sample.c:96][rdma_write_completed_callback] RDMA write task was done Successfully
[22:08:55:266609][1513662][DOCA][INF][rdma_write_requester_sample.c:136][rdma_write_completed_callback] 剩余的任务数量：0
[22:08:55:266615][1513662][DOCA][INF][rdma_common_pool_th.c:1290][rdma_cm_disconnect] rdma_cm_disconnect 函数被调用, 资源数量: 1
[22:08:55:266731][1513662][DOCA][DBG][doca_qp.cpp:1097][set_state] QP 0x71f1e4003b30: State is already CONNECTED
[22:08:55:267888][1513662][DOCA][INF][doca_qp.cpp:1090][set_state] QP 0x71f1e4003b30: State change CONNECTED -> INIT
[22:08:55:267918][1513662][DOCA][DBG][doca_qp.cpp:1097][set_state] QP 0x71f1e4003b30: State is already INIT
[22:08:55:268049][1513662][DOCA][INF][doca_qp.cpp:1141][priv_doca_dev_qp_destroy] Destroying qp=0x71f1e4003b30
[22:08:55:269549][1513662][DOCA][INF][rdma_common_pool_th.c:1300][rdma_cm_disconnect] [Client] successfully disconnect rdma-cm connection
[22:08:55:269561][1513662][DOCA][ERR][rdma_ctx_cpu.cpp:570][priv_doca_rdma_ctx_request_stop] RDMA 0x71f1e8c4b010: task pool[4] in context still has 1 unfreed tasks
[22:08:55:269577][1513662][DOCA][INF][rdma_write_requester_sample.c:1042][rdma_write_requester_state_change_callback] RDMA context entered into stopping state. Any inflight tasks will be flushed
[22:08:55:269581][1513662][DOCA][INF][rdma_write_requester_sample.c:143][rdma_write_completed_callback] 关闭 ctx
[22:08:55:269585][1513662][DOCA][INF][rdma_write_requester_sample.c:564][send_single_chunk] [写入耗时:            ] 用时: 7.72 ms
[22:08:55:269616][1513662][DOCA][INF][rdma_write_requester_sample.c:690][rdma_write_prepare_and_submit_task_chunked] 第 0 块写完成，等待接收方 ACK
[22:08:55:331654][1513662][DOCA][INF][rdma_write_requester_sample.c:693][rdma_write_prepare_and_submit_task_chunked] [等待 块ACK 耗时     ] 用时: 62.03 ms
[22:08:55:331683][1513662][DOCA][INF][rdma_write_requester_sample.c:694][rdma_write_prepare_and_submit_task_chunked] 收到第 0 块的 ACK，可以继续
[22:08:55:331688][1513662][DOCA][INF][rdma_write_requester_sample.c:698][rdma_write_prepare_and_submit_task_chunked] 已发送 1/1 块, 累计: 46830571/46830571 字节
[22:08:55:331691][1513662][DOCA][INF][rdma_write_requester_sample.c:704][rdma_write_prepare_and_submit_task_chunked] 所有 1 块传输完成
[22:08:55:333998][1513662][DOCA][INF][rdma_ctx_cpu.cpp:1441][priv_doca_rdma_ctx_progress_stopping] num in-flight tasks has reached 0, RDMA can be stopped
[22:08:55:334107][1513662][DOCA][INF][task_pool.cpp:54][priv_doca_task_pool_destroy] task_pool 0x71f1e4003630 was destroyed
[22:08:55:334117][1513662][DOCA][INF][task_pool.cpp:54][priv_doca_task_pool_destroy] task_pool 0x71f1e40039c0 was destroyed
[22:08:55:334123][1513662][DOCA][INF][task_pool.cpp:54][priv_doca_task_pool_destroy] task_pool 0x71f1e4005f10 was destroyed
[22:08:55:334135][1513662][DOCA][INF][task_pool.cpp:54][priv_doca_task_pool_destroy] task_pool 0x71f1e4005f40 was destroyed
[22:08:55:334141][1513662][DOCA][INF][task_pool.cpp:54][priv_doca_task_pool_destroy] task_pool 0x71f1e4005fe0 was destroyed
[22:08:55:334147][1513662][DOCA][INF][task_pool.cpp:54][priv_doca_task_pool_destroy] task_pool 0x71f1e4003c70 was destroyed
[22:08:55:334153][1513662][DOCA][INF][task_pool.cpp:54][priv_doca_task_pool_destroy] task_pool 0x71f1e40035c0 was destroyed
[22:08:55:334159][1513662][DOCA][INF][task_pool.cpp:54][priv_doca_task_pool_destroy] task_pool 0x71f1e4004b30 was destroyed
[22:08:55:334164][1513662][DOCA][INF][task_pool.cpp:54][priv_doca_task_pool_destroy] task_pool 0x71f1e40049f0 was destroyed
[22:08:55:334170][1513662][DOCA][INF][task_pool.cpp:54][priv_doca_task_pool_destroy] task_pool 0x71f1e4001fd0 was destroyed
[22:08:55:334176][1513662][DOCA][INF][task_pool.cpp:54][priv_doca_task_pool_destroy] task_pool 0x71f1e4005e30 was destroyed
[22:08:55:334536][1513662][DOCA][INF][doca_pe.cpp:693][priv_doca_pe_cq_unregister] Progress engine 0x71f1e4004840: cq=0x71f1e400a400 was unregistered from pe
[22:08:55:334794][1513662][DOCA][INF][rdma_write_requester_sample.c:1045][rdma_write_requester_state_change_callback] RDMA context has been stopped
[22:08:55:334801][1513662][DOCA][INF][doca_ctx.cpp:650][priv_doca_ctx_set_state_to_idle] CTX 0x71f1e8c4b010 has successfully stopped
[22:08:55:334808][1513662][DOCA][INF][doca_buf_inventory.cpp:435][stop] Buf inventory 0x71f1e4004b80: was stopped
[22:08:55:334815][1513662][DOCA][INF][doca_hp_shm.c:284][my_doca_close_shm] 减少块 0 的使用计数至 0
[22:08:55:334818][1513662][DOCA][INF][doca_hp_shm.c:310][my_doca_close_shm] 块 0 引用计数为0，但保持资源不释放以供后续复用
[22:08:55:334842][1513662][DOCA][INF][rdma_write_requester_sample.c:1212][rdma_write_requester] 执行关闭资源
[22:08:55:334846][1513662][DOCA][INF][rdma_common_pool_th.c:1036][destroy_rdma_resources] destroy_rdma_resources 函数被调用
[22:08:55:334850][1513662][DOCA][INF][doca_mmap.cpp:668][mmap_stop] Mmap 0x71f1e401d980: mmap was stopped
[22:08:55:334857][1513662][DOCA][INF][doca_mmap.cpp:713][doca_mmap_destroy] Mmap 0x71f1e401d980: Destroying mmap
[22:08:55:334864][1513662][DOCA][INF][doca_rdma.cpp:601][doca_rdma_addr_destroy] RDMA address 0x71f1e4002000: RDMA address was destroyed
[22:08:55:334871][1513662][DOCA][INF][doca_mmap.cpp:713][doca_mmap_destroy] Mmap 0x71f1e4012a40: Destroying mmap
[22:08:55:335119][1513662][DOCA][INF][doca_mmap.cpp:668][mmap_stop] Mmap 0x71f1e4012a40: mmap was stopped
[22:08:55:335127][1513662][DOCA][INF][doca_pe.cpp:115][priv_doca_pe_ctx_destroy] Destroying progress engine ctx=0x71f1e8c4b010
[22:08:55:335133][1513662][DOCA][INF][doca_rdma.cpp:307][doca_rdma_destroy] RDMA 0x71f1e8c4b010: RDMA was destroyed
[22:08:55:335151][1513662][DOCA][INF][doca_pe.cpp:61][doca_pe_destroy] Progress engine 0x71f1e4004840: Destroying progress engine
[22:08:55:335163][1513662][DOCA][INF][doca_pe.cpp:1263][destroy] Progress engine 0x71f1e4004840 was destroyed
[22:08:55:337886][1513662][DOCA][INF][rdma_write_requester_my.c:289][thread_fun] Sample finished successfully
[22:08:55:384956][1514274][DOCA][INF][rdma_write_requester_my.c:179][rdma_init] Starting the sample
[22:08:55:384984][1514274][DOCA][INF][rdma_write_requester_my.c:184][rdma_init] Init finished successfully
[22:08:55:385341][1514274][DOCA][INF][doca_dev.cpp:618][doca_devinfo_create_list] Devinfo list 0x71f1e40021b8: Added device=0x71f1e4002a90 to devinfo list
[22:08:55:385354][1514274][DOCA][INF][doca_dev.cpp:618][doca_devinfo_create_list] Devinfo list 0x71f1e40021b8: Added device=0x71f1e4003ad0 to devinfo list
[22:08:55:385360][1514274][DOCA][INF][doca_dev.cpp:627][doca_devinfo_create_list] Devinfo list 0x71f1e40021b8 was created
[22:08:55:386615][1514274][DOCA][INF][doca_dev.cpp:997][doca_dev_open] Local device 0x71f1e4002a90 was opened
[22:08:55:386642][1514274][DOCA][INF][doca_dev.cpp:143][dev_put] Device 0x71f1e4003ad0 was destroyed
[22:08:55:386655][1514274][DOCA][INF][doca_dev.cpp:708][doca_devinfo_destroy_list] Devinfo list 0x71f1e40021b8 was destroyed
TCP_NODELAY is enabled
[22:08:55:386661][1514274][DOCA][INF][rdma_common_pool_th.c:774][allocate_rdma_resources] DOCA device resources->doca_device: 0x71f1e4002a90
[22:08:55:386665][1514274][DOCA][INF][rdma_common_pool_th.c:808][allocate_rdma_resources] Thread 1 requesting memory block of size 104857600
[22:08:55:386669][1514274][DOCA][INF][doca_hp_shm.c:508][my_doca_open_or_create_shm_smart] 没有合适的块可复用，将创建新块 1，需要大小: 104857600
[22:08:55:386991][1514274][DOCA][INF][doca_mmap.cpp:695][doca_mmap_create] Mmap 0x71f1e4003c00 was created, access_mask=0x1
[22:08:55:387000][1514274][DOCA][INF][doca_mmap.cpp:2271][doca_mmap_set_permissions] Mmap 0x71f1e4003c00: Set permissions with access_mask=0x7
[22:08:55:387007][1514274][DOCA][INF][doca_mmap.cpp:2036][mmap_set_memrange] Mmap 0x71f1e4003c00: Set memrange addr=0x71f1d4800000, len=104857600
[22:08:55:387015][1514274][DOCA][DBG][doca_mmap.cpp:1010][mmap_add_dev] Mmap 0x71f1e4003c00: Added device=0x71f1e4002a90 to mmap. curr_device_num=1
[22:08:55:399671][1514274][DOCA][DBG][linux_devx_obj.cpp:80][priv_doca_devx_object] DEVX obj 0x71f1e40021b0 created (m_devx_object=0x71f1e4003d60)
[22:08:55:399757][1514274][DOCA][INF][doca_mmap.cpp:893][doca_mmap_start] Mmap 0x71f1e4003c00: mmap was started
[22:08:55:399771][1514274][DOCA][INF][doca_hp_shm.c:178][create_new_block] [doca_mmap_start 耗时:  ] 用时: 12.75 ms
[22:08:55:399782][1514274][DOCA][INF][doca_hp_shm.c:192][create_new_block] Created new block 1: offset=52428800 size=104857600
[22:08:55:399787][1514274][DOCA][INF][doca_hp_shm.c:564][my_doca_open_or_create_shm_smart] 智能创建块 1，大小: 104857600 (需要: 104857600), 查找耗时: 0.00毫秒, 操作耗时: 13.12毫秒
[22:08:55:399794][1514274][DOCA][INF][rdma_common_pool_th.c:821][allocate_rdma_resources] Thread 1 assigned block 1 of size 104857600
[22:08:55:399799][1514274][DOCA][INF][rdma_common_pool_th.c:828][allocate_rdma_resources] [mmap 映射耗时:       ] 用时: 13.13 ms
[22:08:55:399817][1514274][DOCA][INF][doca_pe.cpp:47][doca_pe_create] Progress engine 0x71f1e4009740 was created
[22:08:55:402055][1514274][DOCA][DBG][priv_doca_rdma.cpp:356][priv_doca_rdma_get_max_send_data_segs] devinfo 0x71f1e4002af0: max_send_data_segs=64 for transport_type=RC
[22:08:55:402941][1514274][DOCA][DBG][priv_doca_rdma.cpp:356][priv_doca_rdma_get_max_send_data_segs] devinfo 0x71f1e4002af0: max_send_data_segs=16 for transport_type=DC
[22:08:55:403839][1514274][DOCA][DBG][priv_doca_rdma.cpp:315][priv_doca_rdma_get_max_recv_data_segs] devinfo 0x71f1e4002af0: max_recv_data_segs=32
[22:08:55:404408][1514274][DOCA][INF][doca_rdma.cpp:262][doca_rdma_create] RDMA=0x71f1e4037410 was created, dev=0x71f1e4002a90
[22:08:55:404430][1514274][DOCA][INF][doca_rdma.cpp:1693][doca_rdma_set_permissions] RDMA 0x71f1e4037410: permissions were set to 0x5
[22:08:55:404440][1514274][DOCA][INF][doca_rdma.cpp:1850][doca_rdma_set_max_num_connections] RDMA 0x71f1e4037410: maximum number of connections was set to 1
[22:08:55:405312][1514274][DOCA][DBG][doca_rdma.cpp:1443][doca_rdma_cap_transport_type_is_supported] devinfo 0x71f1e4002af0: transport_type=RC is supported
[22:08:55:405339][1514274][DOCA][INF][doca_rdma.cpp:1593][doca_rdma_set_transport_type] RDMA 0x71f1e4037410: transport_type was set to RC
[22:08:55:405354][1514274][DOCA][INF][rdma_common_pool_th.c:891][allocate_rdma_resources] ctx=0x71f1e4037410 thread=125283862283840 mmap=0x71f1e4003c00 len=104857600 dev=0x71f1e4002a90 rdma=0x71f1e4037410 mmap_memrange=0x71f1d4800000
[22:08:55:405361][1514274][DOCA][INF][rdma_write_requester_sample.c:1107][rdma_write_requester] [分配资源耗时:      ] 用时: 20.12 ms
[22:08:55:405370][1514274][DOCA][INF][rdma_write_requester_sample.c:1109][rdma_write_requester] resources->rdma = 0x71f1e4037410
[22:08:55:405373][1514274][DOCA][INF][rdma_tasks.cpp:181][priv_set_task_conf] RDMA 0x71f1e4037410: task_write_task number of tasks was set to 50
[22:08:55:405388][1514274][DOCA][INF][doca_buf_inventory.cpp:238][expand_imp] Buf inventory 0x71f1e4009a00: Expanded by 16 elements (num free elements=16, num elements=16)
[22:08:55:405396][1514274][DOCA][INF][doca_buf_inventory.cpp:256][doca_buf_inventory] DOCA buf inventory 0x71f1e4009a00 was created
[22:08:55:405403][1514274][DOCA][INF][doca_buf_inventory.cpp:418][start] Buf inventory 0x71f1e4009a00: was started (num_elements=16)
[22:08:55:405409][1514274][DOCA][INF][rdma_tasks.cpp:181][priv_set_task_conf] RDMA 0x71f1e4037410: task_receive_task number of tasks was set to 1
[22:08:55:405416][1514274][DOCA][INF][doca_rdma.cpp:2276][doca_rdma_set_connection_state_callbacks] RDMA 0x71f1e4037410: Connection callbacks were set
[22:08:55:405445][1514274][DOCA][INF][task_pool.cpp:34][priv_doca_task_pool_create] task_pool 0x71f1e4003eb0 was created
[22:08:55:405454][1514274][DOCA][INF][task_pool.cpp:34][priv_doca_task_pool_create] task_pool 0x71f1e40041b0 was created
[22:08:55:405460][1514274][DOCA][INF][task_pool.cpp:34][priv_doca_task_pool_create] task_pool 0x71f1e400a170 was created
[22:08:55:405469][1514274][DOCA][INF][task_pool.cpp:34][priv_doca_task_pool_create] task_pool 0x71f1e400a210 was created
[22:08:55:405480][1514274][DOCA][INF][task_pool.cpp:34][priv_doca_task_pool_create] task_pool 0x71f1e4003dd0 was created
[22:08:55:405490][1514274][DOCA][INF][task_pool.cpp:34][priv_doca_task_pool_create] task_pool 0x71f1e4003e70 was created
[22:08:55:405499][1514274][DOCA][INF][task_pool.cpp:34][priv_doca_task_pool_create] task_pool 0x71f1e4004010 was created
[22:08:55:405508][1514274][DOCA][INF][task_pool.cpp:34][priv_doca_task_pool_create] task_pool 0x71f1e40046b0 was created
[22:08:55:405518][1514274][DOCA][INF][task_pool.cpp:34][priv_doca_task_pool_create] task_pool 0x71f1e40099d0 was created
[22:08:55:405527][1514274][DOCA][INF][task_pool.cpp:34][priv_doca_task_pool_create] task_pool 0x71f1e400a130 was created
[22:08:55:405537][1514274][DOCA][INF][task_pool.cpp:34][priv_doca_task_pool_create] task_pool 0x71f1e4005cb0 was created
[22:08:55:405549][1514274][DOCA][INF][doca_uar.cpp:232][bridge_init] UAR 0x71f1e4005d80 created: page=0x71f1ed52c000, reg_addr=0x71f1ed52ca00, base_addr=0x71f1ed52c000, id=131, alloc_type=BLUEFLAME
[22:08:55:406170][1514274][DOCA][DBG][linux_devx_obj.cpp:80][priv_doca_devx_object] DEVX obj 0x71f1e40020a0 created (m_devx_object=0x71f1e40096f0)
[22:08:55:406207][1514274][DOCA][INF][doca_pe.cpp:665][priv_doca_pe_cq_register] Progress engine 0x71f1e4009740: cq=0x71f1e4005e00 was registered to pe
[22:08:55:406770][1514274][DOCA][DBG][linux_devx_obj.cpp:80][priv_doca_devx_object] DEVX obj 0x71f1e4003360 created (m_devx_object=0x71f1e4002a10)
[22:08:55:406795][1514274][DOCA][INF][rdma_write_requester_sample.c:1017][rdma_write_requester_state_change_callback] RDMA context is running
[22:08:55:406802][1514274][DOCA][INF][rdma_common_pool_th.c:1219][rdma_cm_connect] Using RDMA_CM to setup RDMA connection
[22:08:55:406807][1514274][DOCA][INF][rdma_common_pool_th.c:1238][rdma_cm_connect] -----------------------------------------------
[22:08:55:406811][1514274][DOCA][INF][rdma_common_pool_th.c:1239][rdma_cm_connect] RDMA_CM connection params:
[22:08:55:406815][1514274][DOCA][INF][rdma_common_pool_th.c:1240][rdma_cm_connect] -- Connection Role: Client
[22:08:55:406820][1514274][DOCA][INF][rdma_common_pool_th.c:1241][rdma_cm_connect] -- Addr_type : 0
[22:08:55:406825][1514274][DOCA][INF][rdma_common_pool_th.c:1242][rdma_cm_connect] -- Addr: 192.168.200.2
[22:08:55:406829][1514274][DOCA][INF][rdma_common_pool_th.c:1243][rdma_cm_connect] -- Port: 13600
[22:08:55:406834][1514274][DOCA][INF][rdma_common_pool_th.c:1244][rdma_cm_connect] -- Num_connections: 1
[22:08:55:406838][1514274][DOCA][INF][rdma_common_pool_th.c:1245][rdma_cm_connect] -----------------------------------------------
[22:08:55:406843][1514274][DOCA][INF][doca_rdma.cpp:570][doca_rdma_addr_create] RDMA address 0x71f1e4012d00: Connection was set to Address (IPv4): 192.168.200.2 and Port 13600
[22:08:55:406861][1514274][DOCA][INF][rdma_common_pool_th.c:1267][rdma_cm_connect] Client calling doca_rdma_connect_to_addr
[22:08:55:409242][1514274][DOCA][DBG][linux_devx_obj.cpp:80][priv_doca_devx_object] DEVX obj 0x71f1e4009570 created (m_devx_object=0x71f1e4005f70)
[22:08:55:409657][1514274][DOCA][DBG][doca_qp.cpp:1097][set_state] QP 0x71f1e4003bd0: State is already INIT
[22:08:55:409683][1514274][DOCA][INF][doca_qp.cpp:1128][priv_doca_dev_qp_create] Device 0x71f1e4002a90: qp=0x71f1e4003bd0 was created
[22:08:55:409838][1514274][DOCA][INF][rdma_common_pool_th.c:1281][rdma_cm_connect] [Client] started connection successfully
[22:08:55:409849][1514274][DOCA][INF][rdma_write_requester_sample.c:1025][rdma_write_requester_state_change_callback] RDMA context finished initialization
[22:08:55:409854][1514274][DOCA][INF][rdma_write_requester_sample.c:1179][rdma_write_requester] 在while (resources.run_pe_progress) 之前都是成功执行的
[22:08:55:614850][1514274][DOCA][INF][doca_qp.cpp:1090][set_state] QP 0x71f1e4003bd0: State change INIT -> CONNECTED
[22:08:55:614897][1514274][DOCA][INF][rdma_common_pool_th.c:1382][rdma_requester_recv_data_from_rdma_responder] Start to exchange data resource between client and server
[22:08:55:614914][1514274][DOCA][INF][doca_mmap.cpp:695][doca_mmap_create] Mmap 0x71f1e4033640 was created, access_mask=0x1
[22:08:55:614922][1514274][DOCA][INF][doca_mmap.cpp:2271][doca_mmap_set_permissions] Mmap 0x71f1e4033640: Set permissions with access_mask=0x1
[22:08:55:614928][1514274][DOCA][WRN][doca_mmap.cpp:2026][mmap_set_memrange] Mmap 0x71f1e4033640: Memory range isn't aligned to 64B - addr=0x71f1e400e010. For best performance using CPU memory, align address to 64B (cache-line size). For best performance using GPU memory, align address to 64KB (page size)
[22:08:55:614935][1514274][DOCA][INF][doca_mmap.cpp:2036][mmap_set_memrange] Mmap 0x71f1e4033640: Set memrange addr=0x71f1e400e010, len=4096
[22:08:55:614943][1514274][DOCA][DBG][doca_mmap.cpp:1010][mmap_add_dev] Mmap 0x71f1e4033640: Added device=0x71f1e4002a90 to mmap. curr_device_num=1
[22:08:55:615476][1514274][DOCA][DBG][linux_devx_obj.cpp:80][priv_doca_devx_object] DEVX obj 0x71f1e4037040 created (m_devx_object=0x71f1e40108a0)
[22:08:55:615486][1514274][DOCA][INF][doca_mmap.cpp:893][doca_mmap_start] Mmap 0x71f1e4033640: mmap was started
[22:08:55:615494][1514274][DOCA][INF][rdma_common_pool_th.c:1370][recv_msg] Negotiation receive task submission completed

[22:08:55:721197][1514274][DOCA][INF][rdma_write_requester_sample.c:627][rdma_write_prepare_and_submit_task_chunked] [放大数据耗时:      ] 用时: 50.16 ms
[22:08:55:721255][1514274][DOCA][INF][doca_mmap.cpp:695][doca_mmap_create] Mmap 0x71f1e401db00 was created, access_mask=0x1
[22:08:55:721273][1514274][DOCA][DBG][doca_mmap.cpp:1565][import_export_blob_rdma] RDMA blob version = {major=65, minor=2}
[22:08:55:721281][1514274][DOCA][INF][doca_mmap.cpp:2271][doca_mmap_set_permissions] Mmap 0x71f1e401db00: Set permissions with access_mask=0x5
[22:08:55:721304][1514274][DOCA][INF][doca_mmap.cpp:1691][doca_mmap_create_from_export] Mmap 0x71f1e401db00: mmap was created from export. export_desc=0x71f1e400e010, export_desc_len=128, dev=0x71f1e4002a90
[22:08:55:721312][1514274][DOCA][DBG][doca_mmap.cpp:2192][doca_mmap_get_memrange] Mmap 0x71f1e401db00: Get memory range. addr=0x7a2ccf57b010, len=104857600
[22:08:55:721318][1514274][DOCA][INF][rdma_write_requester_sample.c:650][rdma_write_prepare_and_submit_task_chunked] [获取远程 mmap 耗时: ] 用时: 0.09 ms
[22:08:55:721322][1514274][DOCA][INF][rdma_write_requester_sample.c:657][rdma_write_prepare_and_submit_task_chunked] 总文件大小: 102540417, 远程缓冲区大小: 104857600
[22:08:55:721325][1514274][DOCA][INF][rdma_write_requester_sample.c:658][rdma_write_prepare_and_submit_task_chunked] 将分为 1 块传输，每块最大数据: 104857560
[22:08:55:721328][1514274][DOCA][INF][rdma_write_requester_sample.c:662][rdma_write_prepare_and_submit_task_chunked] [传输第一块前耗时 ] 用时: 50.31 ms
[22:08:55:721332][1514274][DOCA][INF][rdma_write_requester_sample.c:494][send_single_chunk] 进入到了send_single_chunk，发送第 0 块
[22:08:55:728476][1514274][DOCA][INF][rdma_write_requester_sample.c:545][send_single_chunk] 提交第 0 块 RDMA 写任务 (大小: 102540457)
[22:08:55:728498][1514274][DOCA][INF][rdma_write_requester_sample.c:554][send_single_chunk] [块发送前耗时       ] 用时: 7.17 ms
[22:08:55:737789][1514274][DOCA][INF][rdma_write_requester_sample.c:96][rdma_write_completed_callback] RDMA write task was done Successfully
[22:08:55:737809][1514274][DOCA][INF][rdma_write_requester_sample.c:136][rdma_write_completed_callback] 剩余的任务数量：0
[22:08:55:737813][1514274][DOCA][INF][rdma_common_pool_th.c:1290][rdma_cm_disconnect] rdma_cm_disconnect 函数被调用, 资源数量: 1
[22:08:55:737924][1514274][DOCA][DBG][doca_qp.cpp:1097][set_state] QP 0x71f1e4003bd0: State is already CONNECTED
[22:08:55:739000][1514274][DOCA][INF][doca_qp.cpp:1090][set_state] QP 0x71f1e4003bd0: State change CONNECTED -> INIT
[22:08:55:739011][1514274][DOCA][DBG][doca_qp.cpp:1097][set_state] QP 0x71f1e4003bd0: State is already INIT
[22:08:55:739128][1514274][DOCA][INF][doca_qp.cpp:1141][priv_doca_dev_qp_destroy] Destroying qp=0x71f1e4003bd0
[22:08:55:740581][1514274][DOCA][INF][rdma_common_pool_th.c:1300][rdma_cm_disconnect] [Client] successfully disconnect rdma-cm connection
[22:08:55:740591][1514274][DOCA][ERR][rdma_ctx_cpu.cpp:570][priv_doca_rdma_ctx_request_stop] RDMA 0x71f1e4037410: task pool[4] in context still has 1 unfreed tasks
[22:08:55:740599][1514274][DOCA][INF][rdma_write_requester_sample.c:1042][rdma_write_requester_state_change_callback] RDMA context entered into stopping state. Any inflight tasks will be flushed
[22:08:55:740602][1514274][DOCA][INF][rdma_write_requester_sample.c:143][rdma_write_completed_callback] 关闭 ctx
[22:08:55:740606][1514274][DOCA][INF][rdma_write_requester_sample.c:564][send_single_chunk] [写入耗时:            ] 用时: 12.10 ms
[22:08:55:740644][1514274][DOCA][INF][rdma_write_requester_sample.c:690][rdma_write_prepare_and_submit_task_chunked] 第 0 块写完成，等待接收方 ACK
[22:08:55:849912][1514274][DOCA][INF][rdma_write_requester_sample.c:693][rdma_write_prepare_and_submit_task_chunked] [等待 块ACK 耗时     ] 用时: 109.26 ms
[22:08:55:849951][1514274][DOCA][INF][rdma_write_requester_sample.c:694][rdma_write_prepare_and_submit_task_chunked] 收到第 0 块的 ACK，可以继续
[22:08:55:849956][1514274][DOCA][INF][rdma_write_requester_sample.c:698][rdma_write_prepare_and_submit_task_chunked] 已发送 1/1 块, 累计: 102540417/102540417 字节
[22:08:55:849960][1514274][DOCA][INF][rdma_write_requester_sample.c:704][rdma_write_prepare_and_submit_task_chunked] 所有 1 块传输完成
[22:08:55:855252][1514274][DOCA][INF][rdma_ctx_cpu.cpp:1441][priv_doca_rdma_ctx_progress_stopping] num in-flight tasks has reached 0, RDMA can be stopped
[22:08:55:855381][1514274][DOCA][INF][task_pool.cpp:54][priv_doca_task_pool_destroy] task_pool 0x71f1e4003eb0 was destroyed
[22:08:55:855393][1514274][DOCA][INF][task_pool.cpp:54][priv_doca_task_pool_destroy] task_pool 0x71f1e40041b0 was destroyed
[22:08:55:855400][1514274][DOCA][INF][task_pool.cpp:54][priv_doca_task_pool_destroy] task_pool 0x71f1e400a170 was destroyed
[22:08:55:855407][1514274][DOCA][INF][task_pool.cpp:54][priv_doca_task_pool_destroy] task_pool 0x71f1e400a210 was destroyed
[22:08:55:855414][1514274][DOCA][INF][task_pool.cpp:54][priv_doca_task_pool_destroy] task_pool 0x71f1e4003dd0 was destroyed
[22:08:55:855422][1514274][DOCA][INF][task_pool.cpp:54][priv_doca_task_pool_destroy] task_pool 0x71f1e4003e70 was destroyed
[22:08:55:855430][1514274][DOCA][INF][task_pool.cpp:54][priv_doca_task_pool_destroy] task_pool 0x71f1e4004010 was destroyed
[22:08:55:855437][1514274][DOCA][INF][task_pool.cpp:54][priv_doca_task_pool_destroy] task_pool 0x71f1e40046b0 was destroyed
[22:08:55:855444][1514274][DOCA][INF][task_pool.cpp:54][priv_doca_task_pool_destroy] task_pool 0x71f1e40099d0 was destroyed
[22:08:55:855451][1514274][DOCA][INF][task_pool.cpp:54][priv_doca_task_pool_destroy] task_pool 0x71f1e400a130 was destroyed
[22:08:55:855467][1514274][DOCA][INF][task_pool.cpp:54][priv_doca_task_pool_destroy] task_pool 0x71f1e4005cb0 was destroyed
[22:08:55:855824][1514274][DOCA][INF][doca_pe.cpp:693][priv_doca_pe_cq_unregister] Progress engine 0x71f1e4009740: cq=0x71f1e4005e00 was unregistered from pe
[22:08:55:856085][1514274][DOCA][INF][rdma_write_requester_sample.c:1045][rdma_write_requester_state_change_callback] RDMA context has been stopped
[22:08:55:856090][1514274][DOCA][INF][doca_ctx.cpp:650][priv_doca_ctx_set_state_to_idle] CTX 0x71f1e4037410 has successfully stopped
[22:08:55:856099][1514274][DOCA][INF][doca_buf_inventory.cpp:435][stop] Buf inventory 0x71f1e4009a00: was stopped
[22:08:55:856107][1514274][DOCA][INF][doca_hp_shm.c:284][my_doca_close_shm] 减少块 1 的使用计数至 0
[22:08:55:856111][1514274][DOCA][INF][doca_hp_shm.c:310][my_doca_close_shm] 块 1 引用计数为0，但保持资源不释放以供后续复用
[22:08:55:856139][1514274][DOCA][INF][rdma_write_requester_sample.c:1212][rdma_write_requester] 执行关闭资源
[22:08:55:856143][1514274][DOCA][INF][rdma_common_pool_th.c:1036][destroy_rdma_resources] destroy_rdma_resources 函数被调用
[22:08:55:856148][1514274][DOCA][INF][doca_mmap.cpp:668][mmap_stop] Mmap 0x71f1e401db00: mmap was stopped
[22:08:55:856157][1514274][DOCA][INF][doca_mmap.cpp:713][doca_mmap_destroy] Mmap 0x71f1e401db00: Destroying mmap
[22:08:55:856167][1514274][DOCA][INF][doca_rdma.cpp:601][doca_rdma_addr_destroy] RDMA address 0x71f1e4012d00: RDMA address was destroyed
[22:08:55:856175][1514274][DOCA][INF][doca_mmap.cpp:713][doca_mmap_destroy] Mmap 0x71f1e4033640: Destroying mmap
[22:08:55:856420][1514274][DOCA][INF][doca_mmap.cpp:668][mmap_stop] Mmap 0x71f1e4033640: mmap was stopped
[22:08:55:856431][1514274][DOCA][INF][doca_pe.cpp:115][priv_doca_pe_ctx_destroy] Destroying progress engine ctx=0x71f1e4037410
[22:08:55:856439][1514274][DOCA][INF][doca_rdma.cpp:307][doca_rdma_destroy] RDMA 0x71f1e4037410: RDMA was destroyed
[22:08:55:856451][1514274][DOCA][INF][doca_pe.cpp:61][doca_pe_destroy] Progress engine 0x71f1e4009740: Destroying progress engine
[22:08:55:856464][1514274][DOCA][INF][doca_pe.cpp:1263][destroy] Progress engine 0x71f1e4009740 was destroyed
[22:08:55:863236][1514274][DOCA][INF][rdma_write_requester_my.c:289][thread_fun] Sample finished successfully
[22:08:55:886955][1515376][DOCA][INF][rdma_write_requester_my.c:179][rdma_init] Starting the sample
[22:08:55:886981][1515376][DOCA][INF][rdma_write_requester_my.c:184][rdma_init] Init finished successfully
[22:08:55:887430][1515376][DOCA][INF][doca_dev.cpp:618][doca_devinfo_create_list] Devinfo list 0x71f1e4004528: Added device=0x71f1e4002a90 to devinfo list
[22:08:55:887445][1515376][DOCA][INF][doca_dev.cpp:618][doca_devinfo_create_list] Devinfo list 0x71f1e4004528: Added device=0x71f1e4003da0 to devinfo list
[22:08:55:887452][1515376][DOCA][INF][doca_dev.cpp:627][doca_devinfo_create_list] Devinfo list 0x71f1e4004528 was created
[22:08:55:888539][1515376][DOCA][INF][doca_dev.cpp:997][doca_dev_open] Local device 0x71f1e4002a90 was opened
[22:08:55:888553][1515376][DOCA][INF][doca_dev.cpp:143][dev_put] Device 0x71f1e4003da0 was destroyed
[22:08:55:888561][1515376][DOCA][INF][doca_dev.cpp:708][doca_devinfo_destroy_list] Devinfo list 0x71f1e4004528 was destroyed
TCP_NODELAY is enabled
[22:08:55:888574][1515376][DOCA][INF][rdma_common_pool_th.c:774][allocate_rdma_resources] DOCA device resources->doca_device: 0x71f1e4002a90
[22:08:55:888579][1515376][DOCA][INF][rdma_common_pool_th.c:808][allocate_rdma_resources] Thread 2 requesting memory block of size 52428800
[22:08:55:888584][1515376][DOCA][INF][doca_hp_shm.c:503][my_doca_open_or_create_shm_smart] 找到合适的块 0 复用，大小: 52428800 (需要: 52428800)
[22:08:55:888588][1515376][DOCA][INF][doca_hp_shm.c:541][my_doca_open_or_create_shm_smart] 智能复用块 0，使用计数: 1, 大小: 52428800 (需要: 52428800), 查找耗时: 0.00毫秒, 操作耗时: 0.00毫秒
[22:08:55:888596][1515376][DOCA][INF][rdma_common_pool_th.c:821][allocate_rdma_resources] Thread 2 assigned block 0 of size 52428800
[22:08:55:888607][1515376][DOCA][INF][rdma_common_pool_th.c:828][allocate_rdma_resources] [mmap 映射耗时:       ] 用时: 0.03 ms
[22:08:55:888620][1515376][DOCA][INF][doca_pe.cpp:47][doca_pe_create] Progress engine 0x71f1e4003e40 was created
[22:08:55:890699][1515376][DOCA][DBG][priv_doca_rdma.cpp:356][priv_doca_rdma_get_max_send_data_segs] devinfo 0x71f1e4002af0: max_send_data_segs=64 for transport_type=RC
[22:08:55:891556][1515376][DOCA][DBG][priv_doca_rdma.cpp:356][priv_doca_rdma_get_max_send_data_segs] devinfo 0x71f1e4002af0: max_send_data_segs=16 for transport_type=DC
[22:08:55:892415][1515376][DOCA][DBG][priv_doca_rdma.cpp:315][priv_doca_rdma_get_max_recv_data_segs] devinfo 0x71f1e4002af0: max_recv_data_segs=32
[22:08:55:892926][1515376][DOCA][INF][doca_rdma.cpp:262][doca_rdma_create] RDMA=0x71f1e4037410 was created, dev=0x71f1e4002a90
[22:08:55:892939][1515376][DOCA][INF][doca_rdma.cpp:1693][doca_rdma_set_permissions] RDMA 0x71f1e4037410: permissions were set to 0x5
[22:08:55:892947][1515376][DOCA][INF][doca_rdma.cpp:1850][doca_rdma_set_max_num_connections] RDMA 0x71f1e4037410: maximum number of connections was set to 1
[22:08:55:893794][1515376][DOCA][DBG][doca_rdma.cpp:1443][doca_rdma_cap_transport_type_is_supported] devinfo 0x71f1e4002af0: transport_type=RC is supported
[22:08:55:893806][1515376][DOCA][INF][doca_rdma.cpp:1593][doca_rdma_set_transport_type] RDMA 0x71f1e4037410: transport_type was set to RC
[22:08:55:893815][1515376][DOCA][INF][rdma_common_pool_th.c:891][allocate_rdma_resources] ctx=0x71f1e4037410 thread=125283862283840 mmap=0x71f1e4003380 len=52428800 dev=0x71f1e4002a90 rdma=0x71f1e4037410 mmap_memrange=0x71f1e0e00000
[22:08:55:893819][1515376][DOCA][INF][rdma_write_requester_sample.c:1107][rdma_write_requester] [分配资源耗时:      ] 用时: 6.50 ms
[22:08:55:893824][1515376][DOCA][INF][rdma_write_requester_sample.c:1109][rdma_write_requester] resources->rdma = 0x71f1e4037410
[22:08:55:893828][1515376][DOCA][INF][rdma_tasks.cpp:181][priv_set_task_conf] RDMA 0x71f1e4037410: task_write_task number of tasks was set to 50
[22:08:55:893837][1515376][DOCA][INF][doca_buf_inventory.cpp:238][expand_imp] Buf inventory 0x71f1e4004000: Expanded by 16 elements (num free elements=16, num elements=16)
[22:08:55:893845][1515376][DOCA][INF][doca_buf_inventory.cpp:256][doca_buf_inventory] DOCA buf inventory 0x71f1e4004000 was created
[22:08:55:893853][1515376][DOCA][INF][doca_buf_inventory.cpp:418][start] Buf inventory 0x71f1e4004000: was started (num_elements=16)
[22:08:55:893862][1515376][DOCA][INF][rdma_tasks.cpp:181][priv_set_task_conf] RDMA 0x71f1e4037410: task_receive_task number of tasks was set to 1
[22:08:55:893869][1515376][DOCA][INF][doca_rdma.cpp:2276][doca_rdma_set_connection_state_callbacks] RDMA 0x71f1e4037410: Connection callbacks were set
[22:08:55:893897][1515376][DOCA][INF][task_pool.cpp:34][priv_doca_task_pool_create] task_pool 0x71f1e4004260 was created
[22:08:55:893905][1515376][DOCA][INF][task_pool.cpp:34][priv_doca_task_pool_create] task_pool 0x71f1e4009030 was created
[22:08:55:893913][1515376][DOCA][INF][task_pool.cpp:34][priv_doca_task_pool_create] task_pool 0x71f1e40090d0 was created
[22:08:55:893922][1515376][DOCA][INF][task_pool.cpp:34][priv_doca_task_pool_create] task_pool 0x71f1e4009170 was created
[22:08:55:893931][1515376][DOCA][INF][task_pool.cpp:34][priv_doca_task_pool_create] task_pool 0x71f1e4009210 was created
[22:08:55:893939][1515376][DOCA][INF][task_pool.cpp:34][priv_doca_task_pool_create] task_pool 0x71f1e4003e70 was created
[22:08:55:893946][1515376][DOCA][INF][task_pool.cpp:34][priv_doca_task_pool_create] task_pool 0x71f1e4009320 was created
[22:08:55:893954][1515376][DOCA][INF][task_pool.cpp:34][priv_doca_task_pool_create] task_pool 0x71f1e40093c0 was created
[22:08:55:893962][1515376][DOCA][INF][task_pool.cpp:34][priv_doca_task_pool_create] task_pool 0x71f1e4009460 was created
[22:08:55:893970][1515376][DOCA][INF][task_pool.cpp:34][priv_doca_task_pool_create] task_pool 0x71f1e4009500 was created
[22:08:55:893983][1515376][DOCA][INF][task_pool.cpp:34][priv_doca_task_pool_create] task_pool 0x71f1e4005cb0 was created
[22:08:55:893992][1515376][DOCA][INF][doca_uar.cpp:232][bridge_init] UAR 0x71f1e4005d80 created: page=0x71f1ed52c000, reg_addr=0x71f1ed52c800, base_addr=0x71f1ed52c000, id=131, alloc_type=BLUEFLAME
[22:08:55:894562][1515376][DOCA][DBG][linux_devx_obj.cpp:80][priv_doca_devx_object] DEVX obj 0x71f1e4008aa0 created (m_devx_object=0x71f1e4008fb0)
[22:08:55:894597][1515376][DOCA][INF][doca_pe.cpp:665][priv_doca_pe_cq_register] Progress engine 0x71f1e4003e40: cq=0x71f1e4005e00 was registered to pe
[22:08:55:895157][1515376][DOCA][DBG][linux_devx_obj.cpp:80][priv_doca_devx_object] DEVX obj 0x71f1e40020a0 created (m_devx_object=0x71f1e4008ed0)
[22:08:55:895171][1515376][DOCA][INF][rdma_write_requester_sample.c:1017][rdma_write_requester_state_change_callback] RDMA context is running
[22:08:55:895175][1515376][DOCA][INF][rdma_common_pool_th.c:1219][rdma_cm_connect] Using RDMA_CM to setup RDMA connection
[22:08:55:895178][1515376][DOCA][INF][rdma_common_pool_th.c:1238][rdma_cm_connect] -----------------------------------------------
[22:08:55:895181][1515376][DOCA][INF][rdma_common_pool_th.c:1239][rdma_cm_connect] RDMA_CM connection params:
[22:08:55:895184][1515376][DOCA][INF][rdma_common_pool_th.c:1240][rdma_cm_connect] -- Connection Role: Client
[22:08:55:895187][1515376][DOCA][INF][rdma_common_pool_th.c:1241][rdma_cm_connect] -- Addr_type : 0
[22:08:55:895190][1515376][DOCA][INF][rdma_common_pool_th.c:1242][rdma_cm_connect] -- Addr: 192.168.200.2
[22:08:55:895193][1515376][DOCA][INF][rdma_common_pool_th.c:1243][rdma_cm_connect] -- Port: 13620
[22:08:55:895198][1515376][DOCA][INF][rdma_common_pool_th.c:1244][rdma_cm_connect] -- Num_connections: 1
[22:08:55:895201][1515376][DOCA][INF][rdma_common_pool_th.c:1245][rdma_cm_connect] -----------------------------------------------
[22:08:55:895205][1515376][DOCA][INF][doca_rdma.cpp:570][doca_rdma_addr_create] RDMA address 0x71f1e4012ce0: Connection was set to Address (IPv4): 192.168.200.2 and Port 13620
[22:08:55:895213][1515376][DOCA][INF][rdma_common_pool_th.c:1267][rdma_cm_connect] Client calling doca_rdma_connect_to_addr
[22:08:55:897524][1515376][DOCA][DBG][linux_devx_obj.cpp:80][priv_doca_devx_object] DEVX obj 0x71f1e40047a0 created (m_devx_object=0x71f1e4012f80)
[22:08:55:897897][1515376][DOCA][DBG][doca_qp.cpp:1097][set_state] QP 0x71f1e4005f90: State is already INIT
[22:08:55:897911][1515376][DOCA][INF][doca_qp.cpp:1128][priv_doca_dev_qp_create] Device 0x71f1e4002a90: qp=0x71f1e4005f90 was created
[22:08:55:897981][1515376][DOCA][INF][rdma_common_pool_th.c:1281][rdma_cm_connect] [Client] started connection successfully
[22:08:55:897987][1515376][DOCA][INF][rdma_write_requester_sample.c:1025][rdma_write_requester_state_change_callback] RDMA context finished initialization
[22:08:55:897991][1515376][DOCA][INF][rdma_write_requester_sample.c:1179][rdma_write_requester] 在while (resources.run_pe_progress) 之前都是成功执行的
[22:08:56:101127][1515376][DOCA][INF][doca_qp.cpp:1090][set_state] QP 0x71f1e4005f90: State change INIT -> CONNECTED
[22:08:56:101180][1515376][DOCA][INF][rdma_common_pool_th.c:1382][rdma_requester_recv_data_from_rdma_responder] Start to exchange data resource between client and server
[22:08:56:101203][1515376][DOCA][INF][doca_mmap.cpp:695][doca_mmap_create] Mmap 0x71f1e4032ac0 was created, access_mask=0x1
[22:08:56:101213][1515376][DOCA][INF][doca_mmap.cpp:2271][doca_mmap_set_permissions] Mmap 0x71f1e4032ac0: Set permissions with access_mask=0x1
[22:08:56:101221][1515376][DOCA][WRN][doca_mmap.cpp:2026][mmap_set_memrange] Mmap 0x71f1e4032ac0: Memory range isn't aligned to 64B - addr=0x71f1e400e010. For best performance using CPU memory, align address to 64B (cache-line size). For best performance using GPU memory, align address to 64KB (page size)
[22:08:56:101228][1515376][DOCA][INF][doca_mmap.cpp:2036][mmap_set_memrange] Mmap 0x71f1e4032ac0: Set memrange addr=0x71f1e400e010, len=4096
[22:08:56:101247][1515376][DOCA][DBG][doca_mmap.cpp:1010][mmap_add_dev] Mmap 0x71f1e4032ac0: Added device=0x71f1e4002a90 to mmap. curr_device_num=1
[22:08:56:101779][1515376][DOCA][DBG][linux_devx_obj.cpp:80][priv_doca_devx_object] DEVX obj 0x71f1e4036c90 created (m_devx_object=0x71f1e4036720)
[22:08:56:101791][1515376][DOCA][INF][doca_mmap.cpp:893][doca_mmap_start] Mmap 0x71f1e4032ac0: mmap was started
[22:08:56:101801][1515376][DOCA][INF][rdma_common_pool_th.c:1370][recv_msg] Negotiation receive task submission completed

[22:08:56:180319][1515376][DOCA][INF][rdma_write_requester_sample.c:627][rdma_write_prepare_and_submit_task_chunked] [放大数据耗时:      ] 用时: 29.14 ms
[22:08:56:180394][1515376][DOCA][INF][doca_mmap.cpp:695][doca_mmap_create] Mmap 0x71f1e4010a00 was created, access_mask=0x1
[22:08:56:180435][1515376][DOCA][DBG][doca_mmap.cpp:1565][import_export_blob_rdma] RDMA blob version = {major=65, minor=2}
[22:08:56:180455][1515376][DOCA][INF][doca_mmap.cpp:2271][doca_mmap_set_permissions] Mmap 0x71f1e4010a00: Set permissions with access_mask=0x5
[22:08:56:180507][1515376][DOCA][INF][doca_mmap.cpp:1691][doca_mmap_create_from_export] Mmap 0x71f1e4010a00: mmap was created from export. export_desc=0x71f1e400e010, export_desc_len=127, dev=0x71f1e4002a90
[22:08:56:180527][1515376][DOCA][DBG][doca_mmap.cpp:2192][doca_mmap_get_memrange] Mmap 0x71f1e4010a00: Get memory range. addr=0x742d5157b010, len=52428800
[22:08:56:180553][1515376][DOCA][INF][rdma_write_requester_sample.c:650][rdma_write_prepare_and_submit_task_chunked] [获取远程 mmap 耗时: ] 用时: 0.19 ms
[22:08:56:180574][1515376][DOCA][INF][rdma_write_requester_sample.c:657][rdma_write_prepare_and_submit_task_chunked] 总文件大小: 46830571, 远程缓冲区大小: 52428800
[22:08:56:180583][1515376][DOCA][INF][rdma_write_requester_sample.c:658][rdma_write_prepare_and_submit_task_chunked] 将分为 1 块传输，每块最大数据: 52428760
[22:08:56:180589][1515376][DOCA][INF][rdma_write_requester_sample.c:662][rdma_write_prepare_and_submit_task_chunked] [传输第一块前耗时 ] 用时: 29.44 ms
[22:08:56:180597][1515376][DOCA][INF][rdma_write_requester_sample.c:494][send_single_chunk] 进入到了send_single_chunk，发送第 0 块
[22:08:56:184503][1515376][DOCA][INF][rdma_write_requester_sample.c:545][send_single_chunk] 提交第 0 块 RDMA 写任务 (大小: 46830611)
[22:08:56:184531][1515376][DOCA][INF][rdma_write_requester_sample.c:554][send_single_chunk] [块发送前耗时       ] 用时: 3.93 ms
[22:08:56:189232][1515376][DOCA][INF][rdma_write_requester_sample.c:96][rdma_write_completed_callback] RDMA write task was done Successfully
[22:08:56:189260][1515376][DOCA][INF][rdma_write_requester_sample.c:136][rdma_write_completed_callback] 剩余的任务数量：0
[22:08:56:189265][1515376][DOCA][INF][rdma_common_pool_th.c:1290][rdma_cm_disconnect] rdma_cm_disconnect 函数被调用, 资源数量: 1
[22:08:56:189379][1515376][DOCA][DBG][doca_qp.cpp:1097][set_state] QP 0x71f1e4005f90: State is already CONNECTED
[22:08:56:190466][1515376][DOCA][INF][doca_qp.cpp:1090][set_state] QP 0x71f1e4005f90: State change CONNECTED -> INIT
[22:08:56:190479][1515376][DOCA][DBG][doca_qp.cpp:1097][set_state] QP 0x71f1e4005f90: State is already INIT
[22:08:56:190865][1515376][DOCA][INF][doca_qp.cpp:1141][priv_doca_dev_qp_destroy] Destroying qp=0x71f1e4005f90
[22:08:56:192310][1515376][DOCA][INF][rdma_common_pool_th.c:1300][rdma_cm_disconnect] [Client] successfully disconnect rdma-cm connection
[22:08:56:192318][1515376][DOCA][ERR][rdma_ctx_cpu.cpp:570][priv_doca_rdma_ctx_request_stop] RDMA 0x71f1e4037410: task pool[4] in context still has 1 unfreed tasks
[22:08:56:192326][1515376][DOCA][INF][rdma_write_requester_sample.c:1042][rdma_write_requester_state_change_callback] RDMA context entered into stopping state. Any inflight tasks will be flushed
[22:08:56:192329][1515376][DOCA][INF][rdma_write_requester_sample.c:143][rdma_write_completed_callback] 关闭 ctx
[22:08:56:192333][1515376][DOCA][INF][rdma_write_requester_sample.c:564][send_single_chunk] [写入耗时:            ] 用时: 7.79 ms
[22:08:56:192368][1515376][DOCA][INF][rdma_write_requester_sample.c:690][rdma_write_prepare_and_submit_task_chunked] 第 0 块写完成，等待接收方 ACK
[22:08:56:254401][1515376][DOCA][INF][rdma_write_requester_sample.c:693][rdma_write_prepare_and_submit_task_chunked] [等待 块ACK 耗时     ] 用时: 62.03 ms
[22:08:56:254437][1515376][DOCA][INF][rdma_write_requester_sample.c:694][rdma_write_prepare_and_submit_task_chunked] 收到第 0 块的 ACK，可以继续
[22:08:56:254441][1515376][DOCA][INF][rdma_write_requester_sample.c:698][rdma_write_prepare_and_submit_task_chunked] 已发送 1/1 块, 累计: 46830571/46830571 字节
[22:08:56:254445][1515376][DOCA][INF][rdma_write_requester_sample.c:704][rdma_write_prepare_and_submit_task_chunked] 所有 1 块传输完成
[22:08:56:257024][1515376][DOCA][INF][rdma_ctx_cpu.cpp:1441][priv_doca_rdma_ctx_progress_stopping] num in-flight tasks has reached 0, RDMA can be stopped
[22:08:56:257107][1515376][DOCA][INF][task_pool.cpp:54][priv_doca_task_pool_destroy] task_pool 0x71f1e4004260 was destroyed
[22:08:56:257118][1515376][DOCA][INF][task_pool.cpp:54][priv_doca_task_pool_destroy] task_pool 0x71f1e4009030 was destroyed
[22:08:56:257124][1515376][DOCA][INF][task_pool.cpp:54][priv_doca_task_pool_destroy] task_pool 0x71f1e40090d0 was destroyed
[22:08:56:257130][1515376][DOCA][INF][task_pool.cpp:54][priv_doca_task_pool_destroy] task_pool 0x71f1e4009170 was destroyed
[22:08:56:257137][1515376][DOCA][INF][task_pool.cpp:54][priv_doca_task_pool_destroy] task_pool 0x71f1e4009210 was destroyed
[22:08:56:257143][1515376][DOCA][INF][task_pool.cpp:54][priv_doca_task_pool_destroy] task_pool 0x71f1e4003e70 was destroyed
[22:08:56:257148][1515376][DOCA][INF][task_pool.cpp:54][priv_doca_task_pool_destroy] task_pool 0x71f1e4009320 was destroyed
[22:08:56:257154][1515376][DOCA][INF][task_pool.cpp:54][priv_doca_task_pool_destroy] task_pool 0x71f1e40093c0 was destroyed
[22:08:56:257160][1515376][DOCA][INF][task_pool.cpp:54][priv_doca_task_pool_destroy] task_pool 0x71f1e4009460 was destroyed
[22:08:56:257166][1515376][DOCA][INF][task_pool.cpp:54][priv_doca_task_pool_destroy] task_pool 0x71f1e4009500 was destroyed
[22:08:56:257172][1515376][DOCA][INF][task_pool.cpp:54][priv_doca_task_pool_destroy] task_pool 0x71f1e4005cb0 was destroyed
[22:08:56:257524][1515376][DOCA][INF][doca_pe.cpp:693][priv_doca_pe_cq_unregister] Progress engine 0x71f1e4003e40: cq=0x71f1e4005e00 was unregistered from pe
[22:08:56:257778][1515376][DOCA][INF][rdma_write_requester_sample.c:1045][rdma_write_requester_state_change_callback] RDMA context has been stopped
[22:08:56:257786][1515376][DOCA][INF][doca_ctx.cpp:650][priv_doca_ctx_set_state_to_idle] CTX 0x71f1e4037410 has successfully stopped
[22:08:56:257794][1515376][DOCA][INF][doca_buf_inventory.cpp:435][stop] Buf inventory 0x71f1e4004000: was stopped
[22:08:56:257801][1515376][DOCA][INF][doca_hp_shm.c:284][my_doca_close_shm] 减少块 0 的使用计数至 0
[22:08:56:257805][1515376][DOCA][INF][doca_hp_shm.c:310][my_doca_close_shm] 块 0 引用计数为0，但保持资源不释放以供后续复用
[22:08:56:257835][1515376][DOCA][INF][rdma_write_requester_sample.c:1212][rdma_write_requester] 执行关闭资源
[22:08:56:257839][1515376][DOCA][INF][rdma_common_pool_th.c:1036][destroy_rdma_resources] destroy_rdma_resources 函数被调用
[22:08:56:257844][1515376][DOCA][INF][doca_mmap.cpp:668][mmap_stop] Mmap 0x71f1e4010a00: mmap was stopped
[22:08:56:257851][1515376][DOCA][INF][doca_mmap.cpp:713][doca_mmap_destroy] Mmap 0x71f1e4010a00: Destroying mmap
[22:08:56:257858][1515376][DOCA][INF][doca_rdma.cpp:601][doca_rdma_addr_destroy] RDMA address 0x71f1e4012ce0: RDMA address was destroyed
[22:08:56:257864][1515376][DOCA][INF][doca_mmap.cpp:713][doca_mmap_destroy] Mmap 0x71f1e4032ac0: Destroying mmap
[22:08:56:258104][1515376][DOCA][INF][doca_mmap.cpp:668][mmap_stop] Mmap 0x71f1e4032ac0: mmap was stopped
[22:08:56:258113][1515376][DOCA][INF][doca_pe.cpp:115][priv_doca_pe_ctx_destroy] Destroying progress engine ctx=0x71f1e4037410
[22:08:56:258124][1515376][DOCA][INF][doca_rdma.cpp:307][doca_rdma_destroy] RDMA 0x71f1e4037410: RDMA was destroyed
[22:08:56:258134][1515376][DOCA][INF][doca_pe.cpp:61][doca_pe_destroy] Progress engine 0x71f1e4003e40: Destroying progress engine
[22:08:56:258145][1515376][DOCA][INF][doca_pe.cpp:1263][destroy] Progress engine 0x71f1e4003e40 was destroyed
[22:08:56:260786][1515376][DOCA][INF][rdma_write_requester_my.c:289][thread_fun] Sample finished successfully
[22:08:56:308122][1516092][DOCA][INF][rdma_write_requester_my.c:179][rdma_init] Starting the sample
[22:08:56:308150][1516092][DOCA][INF][rdma_write_requester_my.c:184][rdma_init] Init finished successfully
[22:08:56:308638][1516092][DOCA][INF][doca_dev.cpp:618][doca_devinfo_create_list] Devinfo list 0x71f1e40031d8: Added device=0x71f1e4002a90 to devinfo list
[22:08:56:308653][1516092][DOCA][INF][doca_dev.cpp:618][doca_devinfo_create_list] Devinfo list 0x71f1e40031d8: Added device=0x71f1e4004460 to devinfo list
[22:08:56:308659][1516092][DOCA][INF][doca_dev.cpp:627][doca_devinfo_create_list] Devinfo list 0x71f1e40031d8 was created
[22:08:56:309763][1516092][DOCA][INF][doca_dev.cpp:997][doca_dev_open] Local device 0x71f1e4002a90 was opened
[22:08:56:309778][1516092][DOCA][INF][doca_dev.cpp:143][dev_put] Device 0x71f1e4004460 was destroyed
[22:08:56:309785][1516092][DOCA][INF][doca_dev.cpp:708][doca_devinfo_destroy_list] Devinfo list 0x71f1e40031d8 was destroyed
TCP_NODELAY is enabled
[22:08:56:309791][1516092][DOCA][INF][rdma_common_pool_th.c:774][allocate_rdma_resources] DOCA device resources->doca_device: 0x71f1e4002a90
[22:08:56:309796][1516092][DOCA][INF][rdma_common_pool_th.c:808][allocate_rdma_resources] Thread 3 requesting memory block of size 104857600
[22:08:56:309800][1516092][DOCA][INF][doca_hp_shm.c:503][my_doca_open_or_create_shm_smart] 找到合适的块 1 复用，大小: 104857600 (需要: 104857600)
[22:08:56:309803][1516092][DOCA][INF][doca_hp_shm.c:541][my_doca_open_or_create_shm_smart] 智能复用块 1，使用计数: 1, 大小: 104857600 (需要: 104857600), 查找耗时: 0.00毫秒, 操作耗时: 0.00毫秒
[22:08:56:309809][1516092][DOCA][INF][rdma_common_pool_th.c:821][allocate_rdma_resources] Thread 3 assigned block 1 of size 104857600
[22:08:56:309813][1516092][DOCA][INF][rdma_common_pool_th.c:828][allocate_rdma_resources] [mmap 映射耗时:       ] 用时: 0.02 ms
[22:08:56:309825][1516092][DOCA][INF][doca_pe.cpp:47][doca_pe_create] Progress engine 0x71f1e4003dc0 was created
[22:08:56:311729][1516092][DOCA][DBG][priv_doca_rdma.cpp:356][priv_doca_rdma_get_max_send_data_segs] devinfo 0x71f1e4002af0: max_send_data_segs=64 for transport_type=RC
[22:08:56:312582][1516092][DOCA][DBG][priv_doca_rdma.cpp:356][priv_doca_rdma_get_max_send_data_segs] devinfo 0x71f1e4002af0: max_send_data_segs=16 for transport_type=DC
[22:08:56:313934][1516092][DOCA][DBG][priv_doca_rdma.cpp:315][priv_doca_rdma_get_max_recv_data_segs] devinfo 0x71f1e4002af0: max_recv_data_segs=32
[22:08:56:315107][1516092][DOCA][INF][doca_rdma.cpp:262][doca_rdma_create] RDMA=0x71f1e4037410 was created, dev=0x71f1e4002a90
[22:08:56:315158][1516092][DOCA][INF][doca_rdma.cpp:1693][doca_rdma_set_permissions] RDMA 0x71f1e4037410: permissions were set to 0x5
[22:08:56:315170][1516092][DOCA][INF][doca_rdma.cpp:1850][doca_rdma_set_max_num_connections] RDMA 0x71f1e4037410: maximum number of connections was set to 1
[22:08:56:316274][1516092][DOCA][DBG][doca_rdma.cpp:1443][doca_rdma_cap_transport_type_is_supported] devinfo 0x71f1e4002af0: transport_type=RC is supported
[22:08:56:316304][1516092][DOCA][INF][doca_rdma.cpp:1593][doca_rdma_set_transport_type] RDMA 0x71f1e4037410: transport_type was set to RC
[22:08:56:316320][1516092][DOCA][INF][rdma_common_pool_th.c:891][allocate_rdma_resources] ctx=0x71f1e4037410 thread=125283862283840 mmap=0x71f1e4003c00 len=104857600 dev=0x71f1e4002a90 rdma=0x71f1e4037410 mmap_memrange=0x71f1d4800000
[22:08:56:316329][1516092][DOCA][INF][rdma_write_requester_sample.c:1107][rdma_write_requester] [分配资源耗时:      ] 用时: 7.80 ms
[22:08:56:316339][1516092][DOCA][INF][rdma_write_requester_sample.c:1109][rdma_write_requester] resources->rdma = 0x71f1e4037410
[22:08:56:316353][1516092][DOCA][INF][rdma_tasks.cpp:181][priv_set_task_conf] RDMA 0x71f1e4037410: task_write_task number of tasks was set to 50
[22:08:56:316372][1516092][DOCA][INF][doca_buf_inventory.cpp:238][expand_imp] Buf inventory 0x71f1e4003f80: Expanded by 16 elements (num free elements=16, num elements=16)
[22:08:56:316389][1516092][DOCA][INF][doca_buf_inventory.cpp:256][doca_buf_inventory] DOCA buf inventory 0x71f1e4003f80 was created
[22:08:56:316406][1516092][DOCA][INF][doca_buf_inventory.cpp:418][start] Buf inventory 0x71f1e4003f80: was started (num_elements=16)
[22:08:56:316428][1516092][DOCA][INF][rdma_tasks.cpp:181][priv_set_task_conf] RDMA 0x71f1e4037410: task_receive_task number of tasks was set to 1
[22:08:56:316443][1516092][DOCA][INF][doca_rdma.cpp:2276][doca_rdma_set_connection_state_callbacks] RDMA 0x71f1e4037410: Connection callbacks were set
[22:08:56:316492][1516092][DOCA][INF][task_pool.cpp:34][priv_doca_task_pool_create] task_pool 0x71f1e40041e0 was created
[22:08:56:316510][1516092][DOCA][INF][task_pool.cpp:34][priv_doca_task_pool_create] task_pool 0x71f1e4009030 was created
[22:08:56:316523][1516092][DOCA][INF][task_pool.cpp:34][priv_doca_task_pool_create] task_pool 0x71f1e40090d0 was created
[22:08:56:316537][1516092][DOCA][INF][task_pool.cpp:34][priv_doca_task_pool_create] task_pool 0x71f1e4009170 was created
[22:08:56:316563][1516092][DOCA][INF][task_pool.cpp:34][priv_doca_task_pool_create] task_pool 0x71f1e4009210 was created
[22:08:56:316595][1516092][DOCA][INF][task_pool.cpp:34][priv_doca_task_pool_create] task_pool 0x71f1e4002a10 was created
[22:08:56:316612][1516092][DOCA][INF][task_pool.cpp:34][priv_doca_task_pool_create] task_pool 0x71f1e4004630 was created
[22:08:56:316623][1516092][DOCA][INF][task_pool.cpp:34][priv_doca_task_pool_create] task_pool 0x71f1e4009320 was created
[22:08:56:316633][1516092][DOCA][INF][task_pool.cpp:34][priv_doca_task_pool_create] task_pool 0x71f1e40093c0 was created
[22:08:56:316644][1516092][DOCA][INF][task_pool.cpp:34][priv_doca_task_pool_create] task_pool 0x71f1e4009460 was created
[22:08:56:316655][1516092][DOCA][INF][task_pool.cpp:34][priv_doca_task_pool_create] task_pool 0x71f1e4009500 was created
[22:08:56:316668][1516092][DOCA][INF][doca_uar.cpp:232][bridge_init] UAR 0x71f1e4005d00 created: page=0x71f1ed52c000, reg_addr=0x71f1ed52ca00, base_addr=0x71f1ed52c000, id=131, alloc_type=BLUEFLAME
[22:08:56:317256][1516092][DOCA][DBG][linux_devx_obj.cpp:80][priv_doca_devx_object] DEVX obj 0x71f1e4005d60 created (m_devx_object=0x71f1e4008fb0)
[22:08:56:317298][1516092][DOCA][INF][doca_pe.cpp:665][priv_doca_pe_cq_register] Progress engine 0x71f1e4003dc0: cq=0x71f1e4005d80 was registered to pe
[22:08:56:317876][1516092][DOCA][DBG][linux_devx_obj.cpp:80][priv_doca_devx_object] DEVX obj 0x71f1e4008aa0 created (m_devx_object=0x71f1e4008ed0)
[22:08:56:317900][1516092][DOCA][INF][rdma_write_requester_sample.c:1017][rdma_write_requester_state_change_callback] RDMA context is running
[22:08:56:317905][1516092][DOCA][INF][rdma_common_pool_th.c:1219][rdma_cm_connect] Using RDMA_CM to setup RDMA connection
[22:08:56:317908][1516092][DOCA][INF][rdma_common_pool_th.c:1238][rdma_cm_connect] -----------------------------------------------
[22:08:56:317911][1516092][DOCA][INF][rdma_common_pool_th.c:1239][rdma_cm_connect] RDMA_CM connection params:
[22:08:56:317914][1516092][DOCA][INF][rdma_common_pool_th.c:1240][rdma_cm_connect] -- Connection Role: Client
[22:08:56:317918][1516092][DOCA][INF][rdma_common_pool_th.c:1241][rdma_cm_connect] -- Addr_type : 0
[22:08:56:317921][1516092][DOCA][INF][rdma_common_pool_th.c:1242][rdma_cm_connect] -- Addr: 192.168.200.2
[22:08:56:317924][1516092][DOCA][INF][rdma_common_pool_th.c:1243][rdma_cm_connect] -- Port: 13640
[22:08:56:317927][1516092][DOCA][INF][rdma_common_pool_th.c:1244][rdma_cm_connect] -- Num_connections: 1
[22:08:56:317930][1516092][DOCA][INF][rdma_common_pool_th.c:1245][rdma_cm_connect] -----------------------------------------------
[22:08:56:317939][1516092][DOCA][INF][doca_rdma.cpp:570][doca_rdma_addr_create] RDMA address 0x71f1e4004190: Connection was set to Address (IPv4): 192.168.200.2 and Port 13640
[22:08:56:317947][1516092][DOCA][INF][rdma_common_pool_th.c:1267][rdma_cm_connect] Client calling doca_rdma_connect_to_addr
[22:08:56:320262][1516092][DOCA][DBG][linux_devx_obj.cpp:80][priv_doca_devx_object] DEVX obj 0x71f1e40042b0 created (m_devx_object=0x71f1e4005e80)
[22:08:56:320638][1516092][DOCA][DBG][doca_qp.cpp:1097][set_state] QP 0x71f1e4012eb0: State is already INIT
[22:08:56:320651][1516092][DOCA][INF][doca_qp.cpp:1128][priv_doca_dev_qp_create] Device 0x71f1e4002a90: qp=0x71f1e4012eb0 was created
[22:08:56:320719][1516092][DOCA][INF][rdma_common_pool_th.c:1281][rdma_cm_connect] [Client] started connection successfully
[22:08:56:320724][1516092][DOCA][INF][rdma_write_requester_sample.c:1025][rdma_write_requester_state_change_callback] RDMA context finished initialization
[22:08:56:320729][1516092][DOCA][INF][rdma_write_requester_sample.c:1179][rdma_write_requester] 在while (resources.run_pe_progress) 之前都是成功执行的
[22:08:56:523753][1516092][DOCA][INF][doca_qp.cpp:1090][set_state] QP 0x71f1e4012eb0: State change INIT -> CONNECTED
[22:08:56:523796][1516092][DOCA][INF][rdma_common_pool_th.c:1382][rdma_requester_recv_data_from_rdma_responder] Start to exchange data resource between client and server
[22:08:56:523814][1516092][DOCA][INF][doca_mmap.cpp:695][doca_mmap_create] Mmap 0x71f1e4032900 was created, access_mask=0x1
[22:08:56:523821][1516092][DOCA][INF][doca_mmap.cpp:2271][doca_mmap_set_permissions] Mmap 0x71f1e4032900: Set permissions with access_mask=0x1
[22:08:56:523828][1516092][DOCA][WRN][doca_mmap.cpp:2026][mmap_set_memrange] Mmap 0x71f1e4032900: Memory range isn't aligned to 64B - addr=0x71f1e401ca70. For best performance using CPU memory, align address to 64B (cache-line size). For best performance using GPU memory, align address to 64KB (page size)
[22:08:56:523835][1516092][DOCA][INF][doca_mmap.cpp:2036][mmap_set_memrange] Mmap 0x71f1e4032900: Set memrange addr=0x71f1e401ca70, len=4096
[22:08:56:523843][1516092][DOCA][DBG][doca_mmap.cpp:1010][mmap_add_dev] Mmap 0x71f1e4032900: Added device=0x71f1e4002a90 to mmap. curr_device_num=1
[22:08:56:524385][1516092][DOCA][DBG][linux_devx_obj.cpp:80][priv_doca_devx_object] DEVX obj 0x71f1e4036280 created (m_devx_object=0x71f1e40364e0)
[22:08:56:524394][1516092][DOCA][INF][doca_mmap.cpp:893][doca_mmap_start] Mmap 0x71f1e4032900: mmap was started
[22:08:56:524402][1516092][DOCA][INF][rdma_common_pool_th.c:1370][recv_msg] Negotiation receive task submission completed

[22:08:56:645260][1516092][DOCA][INF][rdma_write_requester_sample.c:627][rdma_write_prepare_and_submit_task_chunked] [放大数据耗时:      ] 用时: 50.16 ms
[22:08:56:645317][1516092][DOCA][INF][doca_mmap.cpp:695][doca_mmap_create] Mmap 0x71f1e4012500 was created, access_mask=0x1
[22:08:56:645335][1516092][DOCA][DBG][doca_mmap.cpp:1565][import_export_blob_rdma] RDMA blob version = {major=65, minor=2}
[22:08:56:645344][1516092][DOCA][INF][doca_mmap.cpp:2271][doca_mmap_set_permissions] Mmap 0x71f1e4012500: Set permissions with access_mask=0x5
[22:08:56:645366][1516092][DOCA][INF][doca_mmap.cpp:1691][doca_mmap_create_from_export] Mmap 0x71f1e4012500: mmap was created from export. export_desc=0x71f1e401ca70, export_desc_len=128, dev=0x71f1e4002a90
[22:08:56:645373][1516092][DOCA][DBG][doca_mmap.cpp:2192][doca_mmap_get_memrange] Mmap 0x71f1e4012500: Get memory range. addr=0x7a565effe010, len=104857600
[22:08:56:645380][1516092][DOCA][INF][rdma_write_requester_sample.c:650][rdma_write_prepare_and_submit_task_chunked] [获取远程 mmap 耗时: ] 用时: 0.09 ms
[22:08:56:645384][1516092][DOCA][INF][rdma_write_requester_sample.c:657][rdma_write_prepare_and_submit_task_chunked] 总文件大小: 102540417, 远程缓冲区大小: 104857600
[22:08:56:645387][1516092][DOCA][INF][rdma_write_requester_sample.c:658][rdma_write_prepare_and_submit_task_chunked] 将分为 1 块传输，每块最大数据: 104857560
[22:08:56:645396][1516092][DOCA][INF][rdma_write_requester_sample.c:662][rdma_write_prepare_and_submit_task_chunked] [传输第一块前耗时 ] 用时: 50.32 ms
[22:08:56:645399][1516092][DOCA][INF][rdma_write_requester_sample.c:494][send_single_chunk] 进入到了send_single_chunk，发送第 0 块
[22:08:56:652634][1516092][DOCA][INF][rdma_write_requester_sample.c:545][send_single_chunk] 提交第 0 块 RDMA 写任务 (大小: 102540457)
[22:08:56:652659][1516092][DOCA][INF][rdma_write_requester_sample.c:554][send_single_chunk] [块发送前耗时       ] 用时: 7.26 ms
[22:08:56:661953][1516092][DOCA][INF][rdma_write_requester_sample.c:96][rdma_write_completed_callback] RDMA write task was done Successfully
[22:08:56:661979][1516092][DOCA][INF][rdma_write_requester_sample.c:136][rdma_write_completed_callback] 剩余的任务数量：0
[22:08:56:661983][1516092][DOCA][INF][rdma_common_pool_th.c:1290][rdma_cm_disconnect] rdma_cm_disconnect 函数被调用, 资源数量: 1
[22:08:56:662084][1516092][DOCA][DBG][doca_qp.cpp:1097][set_state] QP 0x71f1e4012eb0: State is already CONNECTED
[22:08:56:663138][1516092][DOCA][INF][doca_qp.cpp:1090][set_state] QP 0x71f1e4012eb0: State change CONNECTED -> INIT
[22:08:56:663148][1516092][DOCA][DBG][doca_qp.cpp:1097][set_state] QP 0x71f1e4012eb0: State is already INIT
[22:08:56:663273][1516092][DOCA][INF][doca_qp.cpp:1141][priv_doca_dev_qp_destroy] Destroying qp=0x71f1e4012eb0
[22:08:56:664708][1516092][DOCA][INF][rdma_common_pool_th.c:1300][rdma_cm_disconnect] [Client] successfully disconnect rdma-cm connection
[22:08:56:664720][1516092][DOCA][ERR][rdma_ctx_cpu.cpp:570][priv_doca_rdma_ctx_request_stop] RDMA 0x71f1e4037410: task pool[4] in context still has 1 unfreed tasks
[22:08:56:664731][1516092][DOCA][INF][rdma_write_requester_sample.c:1042][rdma_write_requester_state_change_callback] RDMA context entered into stopping state. Any inflight tasks will be flushed
[22:08:56:664735][1516092][DOCA][INF][rdma_write_requester_sample.c:143][rdma_write_completed_callback] 关闭 ctx
[22:08:56:664739][1516092][DOCA][INF][rdma_write_requester_sample.c:564][send_single_chunk] [写入耗时:            ] 用时: 12.07 ms
[22:08:56:664774][1516092][DOCA][INF][rdma_write_requester_sample.c:690][rdma_write_prepare_and_submit_task_chunked] 第 0 块写完成，等待接收方 ACK
[22:08:56:775970][1516092][DOCA][INF][rdma_write_requester_sample.c:693][rdma_write_prepare_and_submit_task_chunked] [等待 块ACK 耗时     ] 用时: 111.19 ms
[22:08:56:776001][1516092][DOCA][INF][rdma_write_requester_sample.c:694][rdma_write_prepare_and_submit_task_chunked] 收到第 0 块的 ACK，可以继续
[22:08:56:776006][1516092][DOCA][INF][rdma_write_requester_sample.c:698][rdma_write_prepare_and_submit_task_chunked] 已发送 1/1 块, 累计: 102540417/102540417 字节
[22:08:56:776010][1516092][DOCA][INF][rdma_write_requester_sample.c:704][rdma_write_prepare_and_submit_task_chunked] 所有 1 块传输完成
[22:08:56:782284][1516092][DOCA][INF][rdma_ctx_cpu.cpp:1441][priv_doca_rdma_ctx_progress_stopping] num in-flight tasks has reached 0, RDMA can be stopped
[22:08:56:782418][1516092][DOCA][INF][task_pool.cpp:54][priv_doca_task_pool_destroy] task_pool 0x71f1e40041e0 was destroyed
[22:08:56:782437][1516092][DOCA][INF][task_pool.cpp:54][priv_doca_task_pool_destroy] task_pool 0x71f1e4009030 was destroyed
[22:08:56:782449][1516092][DOCA][INF][task_pool.cpp:54][priv_doca_task_pool_destroy] task_pool 0x71f1e40090d0 was destroyed
[22:08:56:782463][1516092][DOCA][INF][task_pool.cpp:54][priv_doca_task_pool_destroy] task_pool 0x71f1e4009170 was destroyed
[22:08:56:782472][1516092][DOCA][INF][task_pool.cpp:54][priv_doca_task_pool_destroy] task_pool 0x71f1e4009210 was destroyed
[22:08:56:782481][1516092][DOCA][INF][task_pool.cpp:54][priv_doca_task_pool_destroy] task_pool 0x71f1e4002a10 was destroyed
[22:08:56:782490][1516092][DOCA][INF][task_pool.cpp:54][priv_doca_task_pool_destroy] task_pool 0x71f1e4004630 was destroyed
[22:08:56:782499][1516092][DOCA][INF][task_pool.cpp:54][priv_doca_task_pool_destroy] task_pool 0x71f1e4009320 was destroyed
[22:08:56:782532][1516092][DOCA][INF][task_pool.cpp:54][priv_doca_task_pool_destroy] task_pool 0x71f1e40093c0 was destroyed
[22:08:56:782540][1516092][DOCA][INF][task_pool.cpp:54][priv_doca_task_pool_destroy] task_pool 0x71f1e4009460 was destroyed
[22:08:56:782548][1516092][DOCA][INF][task_pool.cpp:54][priv_doca_task_pool_destroy] task_pool 0x71f1e4009500 was destroyed
[22:08:56:782954][1516092][DOCA][INF][doca_pe.cpp:693][priv_doca_pe_cq_unregister] Progress engine 0x71f1e4003dc0: cq=0x71f1e4005d80 was unregistered from pe
[22:08:56:783295][1516092][DOCA][INF][rdma_write_requester_sample.c:1045][rdma_write_requester_state_change_callback] RDMA context has been stopped
[22:08:56:783316][1516092][DOCA][INF][doca_ctx.cpp:650][priv_doca_ctx_set_state_to_idle] CTX 0x71f1e4037410 has successfully stopped
[22:08:56:783329][1516092][DOCA][INF][doca_buf_inventory.cpp:435][stop] Buf inventory 0x71f1e4003f80: was stopped
[22:08:56:783341][1516092][DOCA][INF][doca_hp_shm.c:284][my_doca_close_shm] 减少块 1 的使用计数至 0
[22:08:56:783346][1516092][DOCA][INF][doca_hp_shm.c:310][my_doca_close_shm] 块 1 引用计数为0，但保持资源不释放以供后续复用
[22:08:56:783384][1516092][DOCA][INF][rdma_write_requester_sample.c:1212][rdma_write_requester] 执行关闭资源
[22:08:56:783389][1516092][DOCA][INF][rdma_common_pool_th.c:1036][destroy_rdma_resources] destroy_rdma_resources 函数被调用
[22:08:56:783396][1516092][DOCA][INF][doca_mmap.cpp:668][mmap_stop] Mmap 0x71f1e4012500: mmap was stopped
[22:08:56:783409][1516092][DOCA][INF][doca_mmap.cpp:713][doca_mmap_destroy] Mmap 0x71f1e4012500: Destroying mmap
[22:08:56:783422][1516092][DOCA][INF][doca_rdma.cpp:601][doca_rdma_addr_destroy] RDMA address 0x71f1e4004190: RDMA address was destroyed
[22:08:56:783432][1516092][DOCA][INF][doca_mmap.cpp:713][doca_mmap_destroy] Mmap 0x71f1e4032900: Destroying mmap
[22:08:56:783686][1516092][DOCA][INF][doca_mmap.cpp:668][mmap_stop] Mmap 0x71f1e4032900: mmap was stopped
[22:08:56:783703][1516092][DOCA][INF][doca_pe.cpp:115][priv_doca_pe_ctx_destroy] Destroying progress engine ctx=0x71f1e4037410
[22:08:56:783710][1516092][DOCA][INF][doca_rdma.cpp:307][doca_rdma_destroy] RDMA 0x71f1e4037410: RDMA was destroyed
[22:08:56:783726][1516092][DOCA][INF][doca_pe.cpp:61][doca_pe_destroy] Progress engine 0x71f1e4003dc0: Destroying progress engine
[22:08:56:783740][1516092][DOCA][INF][doca_pe.cpp:1263][destroy] Progress engine 0x71f1e4003dc0 was destroyed
[22:08:56:789733][1516092][DOCA][INF][rdma_write_requester_my.c:289][thread_fun] Sample finished successfully
[22:08:56:789791][1513632][DOCA][INF][rdma_write_requester_my.c:407][my_main] 所有任务执行完毕，开始清理资源
[22:08:56:789811][1513632][DOCA][INF][doca_hp_shm.c:593][my_doca_cleanup_all_blocks] 清理所有共享内存块
[22:08:56:789815][1513632][DOCA][INF][doca_hp_shm.c:603][my_doca_cleanup_all_blocks] 清理块 0 (使用计数: 0)
[22:08:56:790244][1513632][DOCA][INF][doca_mmap.cpp:668][mmap_stop] Mmap 0x71f1e4003380: mmap was stopped
[22:08:56:790255][1513632][DOCA][INF][doca_mmap.cpp:713][doca_mmap_destroy] Mmap 0x71f1e4003380: Destroying mmap
[22:08:56:790278][1513632][DOCA][INF][doca_hp_shm.c:603][my_doca_cleanup_all_blocks] 清理块 1 (使用计数: 0)
[22:08:56:790850][1513632][DOCA][INF][doca_mmap.cpp:668][mmap_stop] Mmap 0x71f1e4003c00: mmap was stopped
[22:08:56:790863][1513632][DOCA][INF][doca_mmap.cpp:713][doca_mmap_destroy] Mmap 0x71f1e4003c00: Destroying mmap
[22:08:56:790878][1513632][DOCA][INF][doca_hp_shm.c:634][my_doca_cleanup_all_blocks] 共享内存清理完成
调用 my_main 函数...
my_main 函数返回值: 0
函数执行成功!
